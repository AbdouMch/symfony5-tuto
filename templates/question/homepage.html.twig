{% extends 'base.html.twig' %}

{% block body %}
<div class="jumbotron-img jumbotron jumbotron-fluid">
    <div class="container">
        <h1 class="display-4">Your Questions Answered</h1>
        <p class="lead">And even answers for those questions you didn't think to ask!</p>
    </div>
</div>
<div class="container">
    {% if is_granted('IS_VERIFIED') %}
        <div class="row mb-3">
            <div class="col">
                <a class="btn btn-question" href="{{ path('app_question_create') }}">Ask a Question</a>
            </div>
        </div>
    {% endif %}
    {#  Questions list  #}
    {% include 'question/questions_show.html.twig' with { questions: questions }%}
</div>
    <script>
        const eventSource = new EventSource("http://127.0.0.1:32793/.well-known/mercure?topic=http://example.com/my-private-topic");
        eventSource.onmessage = event => {
            // Will be called every time an update is published by the server
            console.log(JSON.parse(event.data));
        }
    </script>
{% endblock %}

